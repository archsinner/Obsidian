## Chapter 3. Packages and Patches

## 3.1. Introduction

This chapter includes a list of packages that need to be downloaded in order to build a basic Linux system. The listed version numbers correspond to versions of the software that are known to work, and this book is based on their use. We highly recommend against using different versions because the build commands for one version may not work with a different version, unless the different version is specified by a LFS errata or security advisory. The newest package versions may also have problems that require work-arounds. These work-arounds will be developed and stabilized in the development version of the book.

For some packages, the release tarball and the (Git or SVN) repository snapshot tarball for this release may be published with similar file name. A release tarball contains generated files (for example, **configure** script generated by **autoconf**), in addition to the contents of the corresponding repository snapshot. The book uses release tarballs whenever possible. Using a repository snapshot instead of a release tarball specified by the book will cause problems.

Download locations may not always be accessible. If a download location has changed since this book was published, Google ([http://www.google.com/](http://www.google.com/)) provides a useful search engine for most packages. If this search is unsuccessful, try one of the alternative means of downloading at [https://www.linuxfromscratch.org/lfs/mirrors.html#files](https://www.linuxfromscratch.org/lfs/mirrors.html#files).

Downloaded packages and patches will need to be stored somewhere that is conveniently available throughout the entire build. A working directory is also required to unpack the sources and build them. `$LFS/sources` can be used both as the place to store the tarballs and patches and as a working directory. By using this directory, the required elements will be located on the LFS partition and will be available during all stages of the building process.

To create this directory, execute the following command, as user `root`, before starting the download session:

mkdir -v $LFS/sources

Make this directory writable and sticky. “Sticky” means that even if multiple users have write permission on a directory, only the owner of a file can delete the file within a sticky directory. The following command will enable the write and sticky modes:

chmod -v a+wt $LFS/sources

There are several ways to obtain all the necessary packages and patches to build LFS:

-   The files can be downloaded individually as described in the next two sections.
    
-   For stable versions of the book, a tarball of all the needed files can be downloaded from one of the LFS files mirrors listed at [https://www.linuxfromscratch.org/mirrors.html#files](https://www.linuxfromscratch.org/mirrors.html#files).
    
-   The files can be downloaded using **wget** and a wget-list as described below.
    

To download all of the packages and patches by using [wget-list](https://linuxfromscratch.org/lfs/downloads/stable/wget-list) as an input to the **wget** command, use:

wget --input-file=wget-list --continue --directory-prefix=$LFS/sources

### Note

The `wget-list` file mentioned above retrieves all packages for both the sysV and systemd versions of LFS. There are a total of five additional small packages not needed for the currrent book. The `md5sums` file mentioned below is specific to the current book.

Additionally, starting with LFS-7.0, there is a separate file, [md5sums](https://linuxfromscratch.org/lfs/downloads/stable/md5sums), which can be used to verify that all the correct packages are available before proceeding. Place that file in `$LFS/sources` and run:

pushd $LFS/sources
  md5sum -c md5sums
popd

This check can be used after retrieving the needed files with any of the methods listed above.